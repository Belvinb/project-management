"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[147],{47147:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(47313),a=n(9019),i=n(45987),o=n(1413),l=n(70885),s=n(75627),c=n(20209),d=n(57829),u=n(61113),m=n(56778),p=n(35898),h=n(69099),f=n(82295),x=n(43394),j=n(18849),Z=n(93190),g=n(10658),b=n.n(g),v=n(70816),y=n.n(v),S=n(85554),w=n(59797),C=n(46417),k=["onChange"],D=["onChange"],P=n(31516),I={position:"absolute",top:"50%",left:"50%",margin:"auto",transform:"translate(-50%, -50%)",width:"auto",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24},N=function(){var e=JSON.parse(localStorage.getItem("userToken")),t=(0,r.useState)(!1),n=(0,l.Z)(t,2),g=n[0],v=n[1],N=(0,S.I0)(),T=r.useState(!1),Y=(0,l.Z)(T,2),F=Y[0],O=Y[1],W=function(){return O(!1)},_=r.useState(b()()),q=(0,l.Z)(_,2),J=q[0],M=q[1],A=r.useState(b()()),E=(0,l.Z)(A,2),H=E[0],V=E[1],B=(0,s.cI)(),Q=B.control,X=B.register,$=B.handleSubmit,z=B.formState.errors;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{open:F,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,C.jsxs)(d.Z,{sx:I,xs:8,md:12,children:[(0,C.jsx)(u.Z,{id:"modal-modal-title",variant:"h6",component:"h2",m:2,children:"create a project"}),(0,C.jsx)(d.Z,{m:3,component:"form",onSubmit:$((function(t){var n={title:t.title,description:t.description,startDate:y()(t.startDate).format("YYYY-MM-DD"),endDate:y()(t.endDate).format("YYYY-MM-DD"),createdBy:e._id,projectID:P({length:6})};W(),v(!g),N((0,w.$)(n))})),children:(0,C.jsxs)(a.ZP,{container:!0,style:{justifyContent:"space-around"},children:[(0,C.jsx)(a.ZP,{item:!0,m:2,children:(0,C.jsx)(m.Z,(0,o.Z)({error:!!z.title,margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Project Title",name:"title",autoFocus:!0},X("title",{required:!0})))}),(0,C.jsx)(a.ZP,{item:!0,m:2,children:(0,C.jsx)(m.Z,(0,o.Z)({margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Project Description",name:"description",autoFocus:!0},X("description",{required:"true"})))}),(0,C.jsx)(a.ZP,{item:!0,m:2,children:(0,C.jsx)(s.Qr,{name:"startDate",defaultValue:J,control:Q,rules:{required:!0},render:function(e){var t=e.field,n=t.onChange,r=(0,i.Z)(t,k);return(0,C.jsx)(x._,{dateAdapter:Z.Z,children:(0,C.jsx)(p.Z,{children:(0,C.jsx)(j.O,(0,o.Z)({label:"Start Date",onChange:function(e){n(e),M(e)},renderInput:function(e){return(0,C.jsx)(m.Z,(0,o.Z)({},e))}},r))})})}})}),(0,C.jsx)(a.ZP,{item:!0,m:2,children:(0,C.jsx)(s.Qr,{name:"endDate",defaultValue:H,control:Q,render:function(e){var t=e.field,n=t.onChange,r=(0,i.Z)(t,D);return(0,C.jsx)(x._,{dateAdapter:Z.Z,children:(0,C.jsx)(p.Z,{children:(0,C.jsx)(j.O,(0,o.Z)({label:"End Date",onChange:function(e){n(e),V(e)},renderInput:function(e){return(0,C.jsx)(m.Z,(0,o.Z)({},e))}},r))})})}})}),(0,C.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"create"})]})})]})}),(0,C.jsxs)(a.ZP,{item:!0,xs:12,sm:6,md:6,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,C.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap","& > :not(style)":{m:1,width:150,height:150}},children:(0,C.jsx)(f.Z,{className:"paper1",elevation:8,children:(0,C.jsx)("img",{className:"join",src:"images/createProject.webp",alt:""})})}),(0,C.jsx)(h.Z,{variant:"contained",onClick:function(){return O(!0)},children:"Create a project"})]})]})},T=n(74165),Y=n(15861),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"800",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24},O=function(){var e=JSON.parse(localStorage.getItem("userToken")),t=(0,S.I0)(),n=r.useState(!1),i=(0,l.Z)(n,2),p=i[0],x=i[1],j=function(){return x(!1)},Z=(0,s.cI)(),g=Z.register,b=Z.handleSubmit,v=(Z.formState.errors,function(){var n=(0,Y.Z)((0,T.Z)().mark((function n(r){var a;return(0,T.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={email:e.email,projectCode:r.join,userId:e._id},j(),t((0,w.X)(a));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{open:p,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,C.jsxs)(d.Z,{sx:F,component:"form",onSubmit:b(v),children:[(0,C.jsx)(u.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Enter invite code"}),(0,C.jsxs)(d.Z,{m:3,children:[(0,C.jsx)(u.Z,{id:"modal-modal-description",sx:{mt:2},children:(0,C.jsx)(m.Z,(0,o.Z)({margin:"normal",required:!0,fullWidth:!0,id:"join",name:"join",autoFocus:!0},g("join",{shouldValidate:!0})))}),(0,C.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Join"})]})]})}),(0,C.jsxs)(a.ZP,{item:!0,xs:12,sm:6,md:6,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,C.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap","& > :not(style)":{m:2,width:150,height:150}},children:(0,C.jsx)(f.Z,{className:"paper1",elevation:8,children:(0,C.jsx)("img",{className:"join",src:"images/joinProject.webp",alt:""})})}),(0,C.jsx)(h.Z,{variant:"contained",onClick:function(){return x(!0)},children:"Join a project"})]})]})},W=n(33419),_=n(90108),q=n(97890),J=function(){var e=(0,S.v9)((function(e){return e.project})).projectDetails,t=JSON.parse(localStorage.getItem("userToken")),n=(0,r.useState)([]),a=(0,l.Z)(n,2),i=a[0],o=a[1],s=(0,q.TH)(),c=(0,q.s0)();(0,r.useEffect)((function(){!function(){var e=t._id;_.Z.get("/myCreatedProjects/".concat(e)).then((function(e){o(e.data)}))}()}),[s,e]);var d=function(){var e=(0,Y.Z)((0,T.Z)().mark((function e(t){return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,c("/project/workflow/".concat(t)),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new e.t0(e.t0.response.data.message);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),u=[{name:"Title",selector:function(e){return e.title}},{name:"start-date",selector:function(e){return e.startDate}},{name:"end-date",selector:function(e){return e.endDate}},{name:"status",selector:function(e){return e.createdBy===t._id?"created":"joined"}},{name:"view details",cell:function(e){return(0,C.jsx)(h.Z,{style:{backgroundColor:"black"},onClick:function(){d(e._id)},children:"open"})}}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(W.ZP,{title:"Projects",columns:u,data:i,pagination:!0,fixedHeader:!0,highlightOnHover:!0})})},M=function(){var e=JSON.parse(localStorage.getItem("userToken"));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a.ZP,{container:!0,className:"newProject",children:[(0,C.jsx)(O,{}),e.premium?(0,C.jsx)(N,{}):""]}),(0,C.jsx)("hr",{}),(0,C.jsx)(a.ZP,{container:!0,className:"projectTable",children:(0,C.jsx)(J,{})})]})}},31516:function(e){e.exports=function(e){var t,n,r="",a=(e=function(e){return e||(e={}),{length:e.length||8,numeric:"boolean"!==typeof e.numeric||e.numeric,letters:"boolean"!==typeof e.letters||e.letters,special:"boolean"===typeof e.special&&e.special,exclude:Array.isArray(e.exclude)?e.exclude:[]}}(e)).length,i=(e.exclude,function(e){var t="";e.numeric&&(t+="0123456789"),e.letters&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),e.special&&(t+="!$%^&*()_+|~-=`{}[]:;<>?,./");for(var n=0;n<=e.exclude.length;n++)t=t.replace(e.exclude[n],"");return t}(e));for(t=1;t<=a;t++)r+=i.substring(n=Math.floor(Math.random()*i.length),n+1);return r}}}]);